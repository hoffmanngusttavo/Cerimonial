<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>

        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <title>Login</title>

        <h:outputStylesheet name="./css/style.css"/>
        <h:outputStylesheet name="./css/bootstrap.min.css"/>   
    </h:head>

    <h:body>
        <h:form prependId="false"
                id="form">

            <p:growl autoUpdate="true"
                     id="messages"/>

            <p:focus for="login" context="login"/>


            <div id="form-container">
                <div class="panel" id="form-box">
                    <h1 class="text-center">Login</h1>
                    <div class="form-group">
                        <label class="sr-only" for="login">Usuário</label>
                        <div class="input-group">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-user"></span>
                            </div>

                            <p:inputText value="#{AutenticacaoMB.login}" 
                                         required="true" 
                                         placeholder="Seu login de usuário"
                                         class="form-control"
                                         id="login">
                                <p:ajax event="change" 
                                        partialSubmit="true" 
                                        process="@this"/>
                            </p:inputText>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="sr-only" for="senha">Senha</label>
                        <div class="input-group">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-lock"></span>
                            </div>

                            <p:password value="#{AutenticacaoMB.senha}" 
                                        required="true"
                                        feedback="false" 
                                        id="senha" 
                                        class="form-control" 
                                        placeholder="Digite sua senha">
                                <p:ajax event="change" 
                                        partialSubmit="true" 
                                        process="@this"/>
                            </p:password>
                        </div>
                    </div>

                    <div class="form-group">
                        <p:commandButton value="Entrar" 
                                         class="btn btn-success form-control"
                                         id="btnEntrar"
                                         ajax="false" 
                                         action="#{AutenticacaoMB.logar()}" />
                    </div>
                    <div class="form-group">
                        <p:commandButton value="Criar Usuário Padrão" 
                                         class="btn btn-default form-control"
                                         rendered="false"
                                         id="btnCriar"
                                         update="messages"
                                         process="@this"
                                         action="#{AutenticacaoMB.criarUsuarioMaster()}" />
                    </div>

                    <div class="form-group">
                        <a href="cadastro.html">Esqueci minha senha</a>.
                    </div>
                </div>
            </div>

        </h:form>
    </h:body>
</html>

