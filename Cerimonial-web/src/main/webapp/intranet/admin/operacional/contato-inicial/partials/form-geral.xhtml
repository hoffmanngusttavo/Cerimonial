<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:composition>     

        <h2>Contato Inicial</h2>

        <div class="row">
            <div class="form-group col-md-6">
                <label for="inptNome">
                    Nome
                    <span class="asteriskField">
                        *
                    </span>
                </label>
                <p:inputText id="inptNome" 
                             value="#{ContatoInicialCrudMB.entity.nomeContato}" 
                             required="true"
                             requiredMessage="Preencha um nome válido"
                             class="form-control"
                             label="Nome"/>

            </div>

            <div class="form-group col-md-6">
                <label>E-mail
                    <span class="asteriskField">
                        *
                    </span>
                </label>

                <p:inputText id="inptEmail" 
                             value="#{ContatoInicialCrudMB.entity.emailContato}" 
                             class="form-control"
                             required="true"
                             requiredMessage="Preencha um e-mail válido"
                             placeholder="Ex: teste@teste.com"
                             label="Email">
                    <f:validator validatorId="EmailValidate"/>
                </p:inputText>
            </div>

            <div class="form-group col-md-3">
                <label>Telefone
                    <span class="asteriskField">
                        *
                    </span>
                </label>

                <p:inputText value="#{ContatoInicialCrudMB.entity.telefonePrincipal}"
                             required="true"
                             requiredMessage="Preencha um telefone válido"
                             onfocus="functionMaskPhone();"
                             styleClass="phone"
                             class="form-control phone"
                             id="inptTelefone1"
                             label="Telefone 1"/>
            </div>

            <div class="form-group col-md-3">
                <label class="control-label ">Data Contato
                    <span class="asteriskField">
                        *
                    </span>
                </label>

                <p:calendar pattern="dd/MM/yyyy"
                            mask="true" 
                            id="inptDataContato"
                            style="display: block;"
                            value="#{ContatoInicialCrudMB.entity.dataContato}"
                            label="Data Contato" 
                            required="true"
                            requiredMessage="Preencha uma data de contato válido"
                            showOn="button"
                            navigator="true"
                            locale="pt"
                            timeZone="GMT-3">
                    <f:convertDateTime pattern="dd/MM/yyyy"
                                       locale="pt_BR"
                                       timeZone="GMT-3"/>
                </p:calendar>
            </div>

            <div class="form-group col-md-3">
                <label class="control-label ">Data Evento
                </label>

                <p:calendar pattern="dd/MM/yyyy"
                            mask="true" 
                            id="inptDataEvento"
                            style="display: block;"
                            value="#{ContatoInicialCrudMB.entity.dataEvento}"
                            label="Data Evento" 
                            showOn="button"
                            navigator="true"
                            locale="pt"
                            timeZone="GMT-3">
                    <f:convertDateTime pattern="dd/MM/yyyy"
                                       locale="pt_BR"
                                       timeZone="GMT-3"/>
                </p:calendar>
            </div>

            <div class="form-group col-md-3">
                <label class="control-label" 
                       style="width: 100% !important;"
                       for="inptHoraEvento">Hora Evento
                </label>

                <p:inputMask mask="99:99"
                             id="inptHoraEvento"
                             value="#{ContatoInicialCrudMB.entity.horaEvento}">
                    <f:convertDateTime pattern="HH:mm"
                                       locale="pt_BR"
                                       timeZone="GMT-3"/>
                </p:inputMask>
            </div>

        </div>

        <div class="row">
            <div class="form-group col-md-6">
                <label for="inptLocal">
                    Local Evento
                </label>
                <p:autoComplete id="inptLocal" 
                                value="#{ContatoInicialCrudMB.entity.localEvento}" 
                                style="width: 100% !important;"
                                minQueryLength="2"
                                completeMethod="#{ContatoInicialCrudMB.completeLocalEvento}"
                                label="Local"/>

            </div>

            <div class="form-group col-md-6">
                <label for="inptLocalFesta">
                    Local Festa
                </label>
                <p:inputText id="inptLocalFesta" 
                             value="#{ContatoInicialCrudMB.entity.localFesta}" 
                             class="form-control"
                             label="Local"/>

            </div>

            <div class="form-group col-md-6">
                <label>Tipo de Evento
                    <span class="asteriskField">
                        *
                    </span>
                </label>
                <h:selectOneMenu id="inptTipoEvento" 
                                 value="#{ContatoInicialCrudMB.entity.tipoEvento}"
                                 converter="EntityConverter"
                                 required="true"
                                 requiredMessage="Preencha um tipo de evento válido"
                                 class="form-control"
                                 label="Tipo de Evento">
                    <f:selectItem itemValue="" 
                                  itemLabel="Selecione" /> 
                    <f:selectItems value="#{ContatoInicialCrudMB.comboTipoEvento}" />
                    <p:ajax process="@this"
                            update="@this"
                            global="false"/>
                </h:selectOneMenu>

            </div>

            <div class="form-group col-md-3">
                <label for="inptNome">
                    Quantidade Convidados
                </label>
                <p:inputText id="inptQtdConvidados" 
                             value="#{ContatoInicialCrudMB.entity.quantidadeConvidados}" 
                             class="form-control"
                             label="Quantidade">
                    <f:convertNumber integerOnly="true"/>
                    <p:ajax event="change"
                            process="@this"
                            update="@this"/>
                </p:inputText>

            </div>

            <div class="form-group col-md-6">
                <label for="inptTipoIndicacao">
                    Tipo de Indicação
                </label>
                <p:autoComplete id="inptTipoIndicacao" 
                                value="#{ContatoInicialCrudMB.entity.tipoIndicacao}" 
                                style="width: 100% !important;"
                                forceSelection="true"
                                var="tipo"
                                itemValue="#{tipo}"
                                itemLabel="#{tipo.nome}"
                                minQueryLength="2"
                                converter="EntityConverter"
                                completeMethod="#{ContatoInicialCrudMB.completeTipoIndicacao}"
                                label="Tipo de Indicação"/>

            </div>

            <div class="form-group col-md-6">
                <label for="inptStatus">
                    Status
                    <span class="asteriskField">
                        *
                    </span>
                </label>
                <h:selectOneMenu id="inptStatus" 
                                 value="#{ContatoInicialCrudMB.entity.status}"
                                 converter="EntityConverter"
                                 required="true"
                                 requiredMessage="Preencha um status válido"
                                 class="form-control"
                                 label="Status">
                    <f:selectItem itemValue="" 
                                  itemLabel="Selecione" /> 
                    <f:selectItems value="#{ContatoInicialCrudMB.comboStatusContato}" />
                    <p:ajax process="@this"
                            update="@this"
                            global="false"/>
                </h:selectOneMenu>
            </div>

        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <p:commandButton value="Salvar"
                                 action="#{ContatoInicialCrudMB.save()}"
                                 update="@form"
                                 style="margin-right: 10px;"
                                 icon="fa fa-check" 
                                 class="btn btn-success"
                                 onstart="PF('statusDialog').show();"
                                 oncomplete="PF('statusDialog').hide();"/>

                <p:commandButton value="Voltar"
                                 immediate="true"
                                 action="index?faces-redirect=true"
                                 process="@this"
                                 class="btn btn-default"
                                 icon="fa fa-close"/>
            </div>
        </div>
    </ui:composition>
</html>

